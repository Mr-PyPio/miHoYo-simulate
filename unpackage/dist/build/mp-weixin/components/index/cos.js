(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["components/index/cos"],{"122e":function(t,e,n){"use strict";(function(t){var o=n("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=o(n("2eee")),i=o(n("448a")),a=o(n("c973")),r=n("24b9"),l={name:"cos",components:{TopPostsList:function(){n.e("components/common/topPostsList").then(function(){return resolve(n("4e64"))}.bind(null,n)).catch(n.oe)},ForumPostsList:function(){n.e("components/common/forumPostsList").then(function(){return resolve(n("9862"))}.bind(null,n)).catch(n.oe)}},data:function(){return{topNoListData:[],topPosts:[],sort:{show_sort:1,name:"最新回复",page:1,is_hot:!1,sort_type:1},sortConfig:[],forumPostListLeft:[],forumPostListRight:[],scrollMessage:{refresherTrg:!1,refresherAble:!0,scrollY:!0,loadingEnd:!1},last_id:null,pageLoading:!0}},methods:{getTopNoList:function(){var t=this;return(0,a.default)(s.default.mark((function e(){var n,o;return s.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,r.cosTopNApi)();case 2:n=e.sent,o=n.data,t.topNoListData=o.data.list;case 5:case"end":return e.stop()}}),e)})))()},getForumMain:function(){var t=this;return(0,a.default)(s.default.mark((function e(){var n,o;return s.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,r.cosMainApi)();case 2:n=e.sent,o=n.data,t.topPosts=o.data.top_posts,t.sortConfig=o.data.forum_sort_config;case 6:case"end":return e.stop()}}),e)})))()},getForumPostList:function(){var t=arguments,e=this;return(0,a.default)(s.default.mark((function n(){var o,a,l,u,c,d,f,g,p,h,m,v,L;return s.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(o=t.length>0&&void 0!==t[0]?t[0]:1,a=t.length>1&&void 0!==t[1]?t[1]:20,l=t.length>2&&void 0!==t[2]?t[2]:1,u=t.length>3&&void 0!==t[3]&&t[3],c=t.length>4&&void 0!==t[4]?t[4]:0,d=t.length>5?t[5]:void 0,f=[],e.scrollMessage.loadingEnd=!0,!(o>1&&e.last_id)){n.next=17;break}return n.next=11,(0,r.cosPostList)(o,a,l,u,e.last_id);case 11:g=n.sent,p=g.data,f=p.data.list,e.last_id=p.data.last_id,n.next=23;break;case 17:return n.next=19,(0,r.cosPostList)(o,a,l,u);case 19:h=n.sent,m=h.data,f=m.data.list,e.last_id=m.data.last_id;case 23:1===c?((v=e.forumPostListLeft).push.apply(v,(0,i.default)(f.slice(0,parseInt(f.length/2)))),(L=e.forumPostListRight).push.apply(L,(0,i.default)(f.slice(parseInt(f.length/2),f.length)))):(e.forumPostListLeft=f.slice(0,parseInt(f.length/2)),e.forumPostListRight=f.slice(parseInt(f.length/2),f.length),e.pageLoading&&(e.pageLoading=!1)),d&&d(),e.sort.page+=1,e.scrollMessage.loadingEnd=!1;case 27:case"end":return n.stop()}}),n)})))()},tochMoveStop:function(t){t.stopPropagation()},openSortSelect:function(e){var n=e.detail.y;t.$emit("openWrap",this.sortConfig,15,n,"C")},scroll:function(t){},scrollBottom:function(){this.scrollMessage.loadingEnd||this.getForumPostList(this.sort.page,20,this.sort.sort_type,this.sort.is_hot,1)},scrollPull:function(t){var e=this;t.detail.deltaY<0||this.scrollMessage.loadingEnd||(this.scrollMessage.loadingEnd=!0,this.scrollMessage.refresherTrg=!0,this.getForumPostList(1,20,this.sort.sort_type,this.sort.is_hot,0,(function(){e.scrollMessage.refresherTrg=!1,e.scrollMessage.loadingEnd=!1})))},resetSrc:function(t){return"url('../../static/cosNo".concat(t+1,".png')")}},created:function(){this.getTopNoList(),this.getForumMain(),this.getForumPostList()}};e.default=l}).call(this,n("543d")["default"])},2658:function(t,e,n){"use strict";n.r(e);var o=n("5297"),s=n("9a0b");for(var i in s)["default"].indexOf(i)<0&&function(t){n.d(e,t,(function(){return s[t]}))}(i);n("576e");var a=n("f0c5"),r=Object(a["a"])(s["default"],o["b"],o["c"],!1,null,"01a5e68e",null,!1,o["a"],void 0);e["default"]=r.exports},5297:function(t,e,n){"use strict";n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return o}));var o={uIcon:function(){return Promise.all([n.e("common/vendor"),n.e("node-modules/uview-ui/components/u-icon/u-icon")]).then(n.bind(null,"ee35"))},uLoadingIcon:function(){return Promise.all([n.e("common/vendor"),n.e("node-modules/uview-ui/components/u-loading-icon/u-loading-icon")]).then(n.bind(null,"e4ed"))},uLoadingPage:function(){return Promise.all([n.e("common/vendor"),n.e("node-modules/uview-ui/components/u-loading-page/u-loading-page")]).then(n.bind(null,"0829"))}},s=function(){var t=this,e=t.$createElement,n=(t._self._c,t.pageLoading?null:t.topNoListData.length),o=!t.pageLoading&&n?t.__map(t.topNoListData,(function(e,n){var o=t.__get_orig(e),s=n<3?t.resetSrc(n):null,i=n<3?t._f("imageUrlReset")(e.cover.url,300,80):null;return{$orig:o,m0:s,f0:i}})):null,s=t.pageLoading?null:t.forumPostListLeft.length&&t.forumPostListRight.length;t.$mp.data=Object.assign({},{$root:{g0:n,l0:o,g1:s}})},i=[]},5413:function(t,e,n){},"576e":function(t,e,n){"use strict";var o=n("5413"),s=n.n(o);s.a},"9a0b":function(t,e,n){"use strict";n.r(e);var o=n("122e"),s=n.n(o);for(var i in o)["default"].indexOf(i)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(i);e["default"]=s.a}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'components/index/cos-create-component',
    {
        'components/index/cos-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("2658"))
        })
    },
    [['components/index/cos-create-component']]
]);

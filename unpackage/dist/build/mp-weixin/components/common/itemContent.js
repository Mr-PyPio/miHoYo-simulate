(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["components/common/itemContent"],{"2edc":function(e,t,i){},"317a":function(e,t,i){"use strict";i.r(t);var n=i("8968"),o=i.n(n);for(var r in n)["default"].indexOf(r)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(r);t["default"]=o.a},4044:function(e,t,i){"use strict";var n=i("2edc"),o=i.n(n);o.a},"65f0":function(e,t,i){"use strict";i.d(t,"b",(function(){return o})),i.d(t,"c",(function(){return r})),i.d(t,"a",(function(){return n}));var n={uIcon:function(){return Promise.all([i.e("common/vendor"),i.e("node-modules/uview-ui/components/u-icon/u-icon")]).then(i.bind(null,"ee35"))}},o=function(){var e=this,t=e.$createElement,i=(e._self._c,e.item.image_list.length>0&&!e.item.vod_list.length),n=i?e.item.image_list.length:null,o=i?e.item.image_list.length:null,r=i?e.item.image_list.length:null,s=i&&r>2?e.item.image_list.length:null,a=e.item.vod_list.length,u=a>0&&e.videoEnd&&e.item.user?e._f("imageUrlReset")(e.item.user.avatar_url,50,80):null,d=a>0&&e.videoEnd&&e.item.user&&e.item.user.pendant?e._f("imageUrlReset")(e.item.user.pendant,50,80):null;e.$mp.data=Object.assign({},{$root:{g0:i,g1:n,g2:o,g3:r,g4:s,g5:a,f0:u,f1:d}})},r=[]},8968:function(e,t,i){"use strict";(function(e){var n=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,r=n(i("2eee")),s=n(i("c973")),a=n(i("9523")),u=i("26cb");function d(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function c(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?d(Object(i),!0).forEach((function(t){(0,a.default)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):d(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var l={components:{LazyImage:function(){i.e("components/common/lazyImage").then(function(){return resolve(i("7149"))}.bind(null,i)).catch(i.oe)}},props:{item:{type:Object,default:function(){return{}}}},data:function(){return{videoEnd:!1,is_stop:!0,videoStep:0,viddeoPercentage:0,videoWidth:"100%",videoHeight:500,videoId:null,intervalTimer:null,imageId:null,intersectionObserverVideo:null,videoUrl:""}},computed:c({},(0,u.mapState)(["videoMute","windowHeight","rpxNum"])),methods:c(c({},(0,u.mapMutations)(["updateVideoMute","updateImageData"])),{},(o={showImage:function(e){var t=this.item.image_list;this.updateImageData({show:!0,list:t,showIndex:e})},followUser:function(e){var t=this;return(0,s.default)(r.default.mark((function i(){var n,o,s,a;return r.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(t.is_following){i.next=8;break}return i.next=3,follow({entity_id:e});case 3:n=i.sent,o=n.data,"OK"===o.message&&(t.is_following=!0),i.next=13;break;case 8:return i.next=10,unfollow({entity_id:e});case 10:s=i.sent,a=s.data,"OK"===a.message&&(t.is_following=!1);case 13:case"end":return i.stop()}}),i)})))()},videoStart:function(t){this.$nextTick((function(){var i,n="video"+this.videoId;this.is_stop=!1,i=e.createVideoContext(n,this),i&&("replay"===t?(this.videoEnd=!1,i.pause(),i.currentTime=0,i.play()):(this.videoEnd=!1,i.play()))}))},replayVideo:function(){this.videoStart("replay")},videoEnded:function(){this.videoEnd=!0},videoStop:function(){this.videoId;this.$nextTick((function(){if(!this.is_stop){var t="video"+this.videoId;this.is_stop=!0;var i=e.createVideoContext(t,this);i.pause()}}))},controlVideoMute:function(){var e=this.videoMute;this.updateVideoMute(!e)},resetWH:function(){if(this.item.vod_list.length){var e,t=this.item.vod_list[0];e=t.resolutions.length>1?t.resolutions[t.resolutions.length-1]:t.resolutions[0],this.videoDetail=t,this.videoUrl=e.url;var i=e.width,n=e.height,o=i/n;o>1?this.videoHeight=702*n/i:(this.videoWidth="400rpx",this.videoHeight=400*n/i);var r=t.id;this.videoId=r}else this.item.image_list.length&&(this.imageId=this.item.image_list[0].entity_id)},resetDurationTime:function(){if(this.item.vod_list.length){var e=Number(this.item.vod_list[0].duration);this.videoStep=this.getStep(e)}},getStep:function(e){if(e>=6e4){var t=parseInt(e/6e4)>=10?parseInt(e/6e4):"0"+parseInt(e/6e4),i=parseInt(e%6e4/1e3)>=10?parseInt(e%6e4/1e3):"0"+parseInt(e%6e4/1e3);return"".concat(t,":").concat(i)}var n=parseInt(e/1e3)>=10?parseInt(e/1e3):"0"+parseInt(e/1e3);return"00:".concat(n)}},(0,a.default)(o,"controlVideoMute",(function(){var e=this.videoMute;this.updateVideoMute(!e)})),(0,a.default)(o,"timeupdate",(function(e){var t=e.detail.currentTime,i=e.detail.duration;this.currentTime=t,this.durationTime=i,this.viddeoPercentage=(t+1)/i*100;var n=i-t,o=parseInt(n/60)>=10?parseInt(n/60):"0"+parseInt(n/60),r=parseInt(n%60)>=10?parseInt(n%60):"0"+parseInt(n%60);this.videoStep="".concat(o,":").concat(r)})),(0,a.default)(o,"entryUserHome",(function(t){e.$emit("navPage","user",uid)})),o)),created:function(){this.resetWH(),this.resetDurationTime()},mounted:function(){this.$nextTick((function(){var t=this;if(this.videoId){this.intersectionObserverVideo=e.createIntersectionObserver(this);var i=this.windowHeight/2-30;this.intersectionObserverVideo.relativeToViewport({bottom:-300,top:-i,left:0,right:0}).observe(".videoDetail".concat(this.videoId),(function(e){e.intersectionRatio>0?t.videoStart():t.videoStop()}))}}))}};t.default=l}).call(this,i("543d")["default"])},9288:function(e,t,i){"use strict";i.r(t);var n=i("65f0"),o=i("317a");for(var r in o)["default"].indexOf(r)<0&&function(e){i.d(t,e,(function(){return o[e]}))}(r);i("4044");var s=i("f0c5"),a=Object(s["a"])(o["default"],n["b"],n["c"],!1,null,"ef8d555c",null,!1,n["a"],void 0);t["default"]=a.exports}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'components/common/itemContent-create-component',
    {
        'components/common/itemContent-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("9288"))
        })
    },
    [['components/common/itemContent-create-component']]
]);
